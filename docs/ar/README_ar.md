# Group Chat AI - محادثات AI تعاونية

> • 🇺🇸 **This document is also available in:** [English](../README.md)
> • 🇸🇦 **هذا المستند متوفر أيضاً بـ:** [العربية](#)
> • 🇩🇪 **Dieses Dokument ist auch verfügbar in:** [Deutsch](./README_de.md)
> • 🇪🇸 **Este documento también está disponible en:** [Español](./README_es.md)
> • 🇫🇷 **Ce document est également disponible en:** [Français](./README_fr.md)
> • 🇮🇱 **מסמך זה זמין גם ב:** [עברית](./README_he.md)
> • 🇮🇹 **Questo documento è disponibile anche in:** [Italiano](./README_it.md)
> • 🇯🇵 **この文書は以下の言語でもご利用いただけます:** [日本語](./README_ja.md)
> • 🇰🇷 **이 문서는 다음 언어로도 제공됩니다:** [한국어](./README_ko.md)
> • 🇳🇱 **Dit document is ook beschikbaar in:** [Nederlands](./README_nl.md)
> • 🇵🇹 **Este documento também está disponível em:** [Português](./README_pt.md)
> • 🇷🇺 **Этот документ также доступен на:** [Русский](./README_ru.md)
> • 🇸🇪 **Detta dokument är också tillgängligt på:** [Svenska](./README_sv.md)
> • 🇨🇳 **本文档还提供以下语言版本:** [中文](./README_zh.md)


**📖 هذا المستند متوفر بعدة لغات:**
- 🇸🇦 [العربية (Arabic)](docs/README_ar.md)
- 🇩🇪 [Deutsch (German)](docs/README_de.md) 
- 🇪🇸 [Español (Spanish)](docs/README_es.md)
- 🇫🇷 [Français (French)](docs/README_fr.md)
- 🇮🇹 [Italiano (Italian)](docs/README_it.md)
- 🇯🇵 [日本語 (Japanese)](docs/README_ja.md)
- 🇰🇷 [한국어 (Korean)](docs/README_ko.md)
- 🇵🇹 [Português (Portuguese)](docs/README_pt.md)
- 🇷🇺 [Русский (Russian)](docs/README_ru.md)
- 🇸🇪 [Svenska (Swedish)](docs/README_sv.md)
- 🇨🇳 [中文 (Chinese)](docs/README_zh.md)

---

Group Chat AI هي منصة تعاونية متقدمة تمكن من إجراء محادثات جماعية ديناميكية مع شخصيات AI متعددة. يسهل النظام المناقشات المفيدة عبر وجهات نظر متنوعة، مما يتيح للمستخدمين استكشاف الأفكار والحصول على التعليقات والمشاركة في محادثات متعددة المشاركين مع وكلاء AI يمثلون أدوارًا ووجهات نظر مختلفة.

## 🏗️ نظرة عامة على البنية المعمارية

```
User Input → React Frontend → API Gateway → ConversationOrchestrator
                                              ↓
Session Manager ← PersonaAgent ← LLM Interface ← Language Models (Bedrock/OpenAI/Anthropic/Ollama)
```

### الميزات الرئيسية

- **محادثات متعددة الشخصيات**: تفاعل مع شخصيات AI متعددة في وقت واحد في مناقشات جماعية
- **أنماط تفاعل ديناميكية**: تدفق محادثة في الوقت الفعلي مع تناوب طبيعي للأدوار والردود
- **وجهات نظر متنوعة**: كل شخصية تجلب وجهات نظر فريدة وخبرة وأساليب تواصل مختلفة
- **حل المشاكل التعاوني**: العمل من خلال المواضيع المعقدة مع وكلاء AI يقدمون مناهج مختلفة
- **استمرارية الجلسة**: الحفاظ على سياق المحادثة واتساق الشخصية عبر الجلسات
- **تخصيص مرن للشخصيات**: إنشاء وتعديل شخصيات AI بأوصاف باللغة الطبيعية
- **دعم LLM متعدد**: الاستفادة من نماذج لغوية متنوعة بما في ذلك AWS Bedrock وOpenAI وAnthropic وOllama

## 🚀 البدء السريع

### المتطلبات المسبقة

- Node.js 20+ 
- npm 8+
- Docker (اختياري، للحاويات)
- AWS CLI (للنشر)

### التثبيت

1. **استنساخ المستودع**
   ```bash
   git clone <repository-url>
   cd group-chat-ai
   ```

2. **تثبيت التبعيات**
   ```bash
   npm run install:all
   ```

3. **إعداد متغيرات البيئة**
   ```bash
   # Backend
   cp backend/.env.example backend/.env
   # تحرير backend/.env مع التكوين الخاص بك
   
   # Frontend سيستخدم تكوين proxy الخاص بـ Vite
   ```

4. **بناء الحزمة المشتركة**
   ```bash
   npm run build:shared
   ```

### التطوير

1. **تشغيل خادم الخلفية**
   ```bash
   npm run dev:backend
   ```
   ستكون الخلفية متاحة على `http://localhost:3000`

2. **تشغيل خادم تطوير الواجهة الأمامية**
   ```bash
   npm run dev:frontend
   ```
   ستكون الواجهة الأمامية متاحة على `http://localhost:3001`

3. **اختبار API**
   ```bash
   curl http://localhost:3000/health
   ```

## 📁 هيكل المشروع

```
group-chat-ai/
├── shared/                 # أنواع TypeScript المشتركة والأدوات المساعدة
│   ├── src/
│   │   ├── types/         # تعريفات الأنواع المشتركة
│   │   ├── constants/     # ثوابت التطبيق
│   │   └── utils/         # وظائف مساعدة مشتركة
├── backend/               # خادم Express.js API
│   ├── src/
│   │   ├── controllers/   # معالجات مسارات API
│   │   ├── services/      # خدمات منطق الأعمال
│   │   ├── middleware/    # وسطاء Express
│   │   ├── config/        # ملفات التكوين
│   │   └── utils/         # أدوات مساعدة للخلفية
├── frontend/              # تطبيق React
│   ├── src/
│   │   ├── components/    # مكونات React قابلة لإعادة الاستخدام
│   │   ├── pages/         # مكونات الصفحات
│   │   ├── services/      # طبقة خدمة API
│   │   ├── hooks/         # خطافات React مخصصة
│   │   └── utils/         # أدوات مساعدة للواجهة الأمامية
├── infrastructure/        # كود البنية التحتية AWS CDK
├── tests/                 # ملفات الاختبار
└── documents/             # وثائق المشروع
```

## 🔧 النصوص المتاحة

### المستوى الجذر
- `npm run install:all` - تثبيت جميع التبعيات
- `npm run build` - بناء جميع الحزم
- `npm run test` - تشغيل جميع الاختبارات
- `npm run lint` - فحص جميع الحزم

### الخلفية
- `npm run dev:backend` - تشغيل الخلفية في وضع التطوير
- `npm run build:backend` - بناء الخلفية
- `npm run test:backend` - تشغيل اختبارات الخلفية

### الواجهة الأمامية
- `npm run dev:frontend` - تشغيل خادم تطوير الواجهة الأمامية
- `npm run build:frontend` - بناء الواجهة الأمامية للإنتاج
- `npm run test:frontend` - تشغيل اختبارات الواجهة الأمامية

### الشخصيات والتدويل
- `npm run personas:generate` - إنشاء personas.json الإنجليزية من التعريفات المشتركة
- `npm run docs:translate` - ترجمة جميع الوثائق إلى اللغات المدعومة
- `npm run docs:translate:single -- --lang es` - الترجمة إلى لغة محددة

## 🌐 نقاط نهاية API

### فحص الصحة
- `GET /health` - فحص صحة أساسي
- `GET /health/detailed` - معلومات صحة مفصلة

### الشخصيات
- `GET /personas` - الحصول على جميع الشخصيات المتاحة
- `GET /personas/:personaId` - الحصول على تفاصيل شخصية محددة

### الجلسات
- `POST /sessions` - إنشاء جلسة محادثة جديدة
- `POST /sessions/:sessionId/messages` - إرسال رسالة والحصول على ردود
- `PUT /sessions/:sessionId/personas` - تحديث شخصيات الجلسة
- `GET /sessions/:sessionId/summary` - الحصول على ملخص الجلسة
- `DELETE /sessions/:sessionId` - إنهاء الجلسة
- `GET /sessions/:sessionId` - الحصول على تفاصيل الجلسة

## 🤖 تكامل AI

يدعم النظام موفري LLM متعددين من خلال واجهة قابلة للتكوين:

- **OpenAI** (GPT-3.5/GPT-4)
- **Anthropic** (Claude)
- **AWS Bedrock** (نماذج متنوعة)
- **Ollama** (نماذج محلية)

التكوين عبر متغيرات البيئة:
```bash
LLM_PROVIDER=openai
LLM_MODEL=gpt-3.5-turbo
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=500
```

### وضع التطوير
في التطوير، يستخدم النظام ردودًا وهمية لمحاكاة تفاعلات AI دون الحاجة إلى مفاتيح API.

## 🎭 الشخصيات

يتضمن النظام شخصيات AI متنوعة يمكن تخصيصها لسيناريوهات محادثة جماعية مختلفة:

1. **المستشار الاستراتيجي** - التخطيط عالي المستوى والرؤية والتوجه الاستراتيجي
2. **الخبير التقني** - المعرفة التقنية العميقة وتفاصيل التنفيذ والحلول
3. **المحلل** - رؤى مدفوعة بالبيانات والبحث ووجهات النظر التحليلية  
4. **المفكر الإبداعي** - الابتكار والعصف الذهني والأفكار غير التقليدية
5. **الميسر** - إدارة المناقشة وبناء الإجماع والتعاون

### هيكل الشخصية
كل شخصية تُعرَّف بـ 4 حقول بسيطة فقط:
- **الاسم**: اسم العرض (مثل "المستشار الاستراتيجي")
- **الدور**: معرف دور قصير (مثل "استراتيجي")
- **التفاصيل**: وصف نص حر يتضمن الخلفية والأولويات والاهتمامات ومستوى التأثير
- **اختيار الصورة الرمزية**: تمثيل بصري من خيارات الصور الرمزية المتاحة

### تخصيص الشخصية
- **تحرير الشخصيات الافتراضية**: تعديل تفاصيل أي شخصية افتراضية باللغة الطبيعية
- **إنشاء شخصيات مخصصة**: بناء شخصيات مخصصة بالكامل بأوصافك الخاصة
- **استمرارية الجلسة**: جميع تخصيصات الشخصية تستمر طوال جلسات المتصفح
- **الاستيراد/التصدير**: حفظ ومشاركة تكوينات الشخصية عبر ملفات JSON
- **واجهة قائمة على البلاط**: اختيار بصري للبلاط مع قدرات تحرير شاملة

### التنفيذ التقني
كل شخصية تحتفظ بـ:
- سياق محادثة معزول للردود الأصيلة
- معالجة لغة طبيعية لحقل التفاصيل لتوليد مطالبات AI
- أنماط استجابة خاصة بالدور بناءً على الخصائص الموصوفة
- تناوب ذكي للأدوار لتدفق محادثة جماعية طبيعية

## 🌐 التدويل وإدارة الشخصيات

### سير عمل تعريف الشخصية
1. **مصدر الحقيقة**: جميع تعريفات الشخصيات محفوظة في `shared/src/personas/index.ts`
2. **التوليد**: تشغيل `npm run personas:generate` لإنشاء ملف ترجمة `personas.json` الإنجليزي
3. **الترجمة**: استخدام نصوص الترجمة الموجودة لإنشاء ملفات شخصيات محلية

### عملية ترجمة الشخصيات
```bash
# 1. تحديث تعريفات الشخصيات في الحزمة المشتركة
vim shared/src/personas/index.ts

# 2. إنشاء personas.json الإنجليزية من التعريفات المشتركة
npm run personas:generate

# 3. ترجمة الشخصيات إلى جميع اللغات المدعومة
npm run docs:translate  # يترجم جميع الملفات بما في ذلك personas.json
# أو الترجمة إلى لغة محددة
npm run docs:translate:single -- --lang es

# 4. إعادة بناء الحزمة المشتركة إذا لزم الأمر
npm run build:shared
```

### هيكل ملف الترجمة
- **المصدر**: `shared/src/personas/index.ts` (تعريفات TypeScript)
- **المولد**: `frontend/public/locales/en/personas.json` (i18n الإنجليزية)
- **المترجم**: `frontend/public/locales/{lang}/personas.json` (إصدارات محلية)

### اللغات المدعومة
يدعم النظام 14 لغة للشخصيات والوثائق:
- 🇺🇸 English (en) - اللغة المصدر
- 🇸🇦 العربية (ar) - العربية
- 🇩🇪 Deutsch (de) - الألمانية
- 🇪🇸 Español (es) - الإسبانية
- 🇫🇷 Français (fr) - الفرنسية
- 🇮🇱 עברית (he) - العبرية
- 🇮🇹 Italiano (it) - الإيطالية
- 🇯🇵 日本語 (ja) - اليابانية
- 🇰🇷 한국어 (ko) - الكورية
- 🇳🇱 Nederlands (nl) - الهولندية
- 🇵🇹 Português (pt) - البرتغالية
- 🇷🇺 Русский (ru) - الروسية
- 🇸🇪 Svenska (sv) - السويدية
- 🇨🇳 中文 (zh) - الصينية

### إضافة شخصيات جديدة
1. إضافة تعريف الشخصية إلى `shared/src/personas/index.ts`
2. تشغيل `npm run personas:generate` لتحديث الترجمات الإنجليزية
3. تشغيل نصوص الترجمة لإنشاء إصدارات محلية
4. ستكون الشخصية الجديدة متاحة بجميع اللغات المدعومة

## 🔒 ميزات الأمان

- **التحقق من الإدخال**: جميع مدخلات المستخدم يتم التحقق منها وتنظيفها
- **عزل الجلسة**: كل جلسة تحتفظ بسياق منفصل
- **معالجة الأخطاء**: معالجة أخطاء رشيقة مع رسائل سهلة الاستخدام
- **تحديد المعدل**: حماية مدمجة ضد سوء الاستخدام
- **HTTPS**: جميع الاتصالات مشفرة في الإنتاج

## 📊 المراقبة والملاحظة

- **تسجيل منظم**: سجلات بتنسيق JSON مع Winston
- **فحوصات الصحة**: مراقبة صحة شاملة
- **المقاييس**: مقاييس تطبيق مخصصة
- **تتبع الأخطاء**: تسجيل وتتبع مفصل للأخطاء

## 🚢 النشر

### Docker
```bash
# بناء صورة الخلفية
cd backend
npm run docker:build

# تشغيل الحاوية
npm run docker:run
```

### نشر AWS
```bash
# نشر البنية التحتية
cd infrastructure
npm run deploy:dev # استبدال :dev بـ staging أو prod لتلك البيئات
```

## ⚠️ تحذير منطقة النشر!
افتراضيًا، نموذج التوجيه لـ Bedrock هو OpenAI gpt-oss:20b (`openai.gpt-oss-20b-1:0`). نموذج الشخصية يستفيد من Anthropic Claude 4 Sonnet (`anthropic.claude-sonnet-4-20250514-v1:0`). يرجى التأكد من أنك تنشر في منطقة تدعم كلا النموذجين، أو تكوين نماذج بديلة.

## 🧪 الاختبار

### اختبارات الوحدة
```bash
npm run test
```

### اختبارات التكامل
```bash
npm run test:integration
```

### اختبارات E2E
```bash
npm run test:e2e
```

## 📈 أهداف الأداء

- **وقت الاستجابة**: < 3 ثوانٍ لردود الشخصيات
- **التوفر**: 99.9% توفر API
- **التزامن**: دعم 1000+ مستخدم متزامن
- **المحادثات الجماعية**: حتى 5 شخصيات لكل جلسة مع تدفق محادثة طبيعي

## 🤝 المساهمة

1. فرع المستودع
2. إنشاء فرع ميزة
3. إجراء تغييراتك
4. إضافة اختبارات
5. تقديم طلب سحب

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف LICENSE للتفاصيل.